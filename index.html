<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Sound Mixer SPA</title>
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFFFFF'%3E%3Cpath d='M12 2C13.1 2 14 2.9 14 4V5C14 6.1 13.1 7 12 7S10 6.1 10 5V4C10 2.9 10.9 2 12 2ZM12 4C11.45 4 11 4.45 11 5V6C11 6.55 11.45 7 12 7S13 6.55 13 6V5C13 4.45 12.55 4 12 4ZM4 8C4 6 5.79 4.5 8 4.5H16C18.21 4.5 20 6 20 8V14C20 16 18.21 17.5 16 17.5H8C5.79 17.5 4 16 4 14V8ZM8 6.5C6.62 6.5 5.5 7.25 5.5 8V14C5.5 15.75 6.62 16.5 8 16.5H16C17.38 16.5 18.5 15.75 18.5 14V8C18.5 7.25 17.38 6.5 16 6.5H8ZM16 10C16.55 10 17 10.45 17 11S16.55 12 16 12 15 11.55 15 11 15.45 10 16 10ZM12 10C12.55 10 13 10.45 13 11S12.55 12 12 12 11 11.55 11 11 11.45 10 12 10ZM8 10C8.55 10 9 10.45 9 11S8.55 12 8 12 7 11.55 7 11 7.45 10 8 10Z'/%3E%3C/svg%3E">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app-window">
    <!-- Toolbar -->
    <div id="app-toolbar">
    <div id="toolbar-controls">
      <button id="play-stop" title="Play Mix">▶️ Play Mix</button>
      <button id="save-mix-btn" title="Save Mix">💾 Save Mix</button>
      <button id="load-mix-btn" title="Load Mix">📁 Load Mix</button>
      <button id="background-btn" title="Select Background">🖼️ Background</button>
    </div>
    <button id="theme-toggle" aria-label="Toggle dark theme">
      �
    </button>
  </div>

  <div id="container">
    <div id="categories">
      <div id="search-container">
        <input type="text" id="sound-search" placeholder="Cerca suoni per nome, categoria o tag..." />
      </div>
    </div>
    <div id="mixer">

      <div id="tracks"></div>
    </div>
  </div>

  <!-- Save Mix Modal -->
  <div id="save-modal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Save Mix</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="save-controls">
          <div class="control-row">
            <input type="text" id="mix-name" placeholder="Nome del mix" autofocus />
            <button id="save-mix">💾 Salva</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Load Mix Modal -->
  <div id="load-modal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Load Mix</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="load-controls">
          <div class="control-row">
            <select id="saved-mixes">
              <option value="">Seleziona mix</option>
            </select>
          </div>
          <div class="control-row">
            <button id="load-mix">📁 Carica</button>
            <button id="delete-mix">🗑️ Elimina</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Background Select Modal -->
  <div id="background-modal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Select Background</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="background-controls">
          <div class="control-row">
            <input type="text" id="background-search" placeholder="Cerca background..." />
            <button id="clear-background" title="Rimuovi sfondo">🚫 Nessun sfondo</button>
          </div>
        </div>
        <div id="background-grid" class="background-grid">
          <!-- Background thumbnails will be populated here by JS -->
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
  </div> <!-- app-window -->
</html>
